# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

Personal blog and portfolio site for Tripp Horbinski (https://horbin.ski). Built with Next.js 16, React 19, and Tailwind CSS. Minimal, text-forward design — single-column centered layout with dark mode support. Covers two content categories: **tech** and **running**.

## Commands

- `npm run dev` — Start dev server
- `npm run build` — Build static export (outputs to `out/`)
- `npm run lint` — Run ESLint

No test framework is configured.

## Deployment

Static export deployed to GitHub Pages via GitHub Actions (`.github/workflows/nextjs.yml`). Pushes to `main` trigger automatic deployment. The site uses `output: 'export'` with `trailingSlash: true` and unoptimized images (required for static hosting).

## Architecture

### Blog Content System

Blog posts are Markdown files in `src/content/posts/`. The `src/lib/posts.ts` module reads them at build time using `gray-matter` for frontmatter parsing and `remark`/`remark-html` for rendering. Posts have two categories: `'tech'` or `'running'`.

Post frontmatter format:
```yaml
title: "Post Title"
date: "2024-11-20"
excerpt: "Short description"
category: "tech"       # or "running"
tags: ["Tag1", "Tag2"]
featured: true         # optional
```

### Routing

- `/` — Prose homepage with bio, featured writing links, social links
- `/blog/` — All posts as a title-only list
- `/blog/[slug]/` — Individual post (uses `generateStaticParams`)
- `/about/` — About page

### Layout Architecture

`RootLayout` (`src/app/layout.tsx`) provides a centered single-column layout (`max-w-2xl mx-auto px-6`). Inline nav at top: site name (left), "writing" link + `ThemeToggle` (right). Footer at bottom.

### Dark Mode

`ThemeToggle` (`src/components/ThemeToggle.tsx`) is a client component that toggles the `dark` class on `<html>` and persists to `localStorage`. An inline `<script>` in `<head>` prevents FOUC by reading `localStorage` / system preference before paint. `<html>` uses `suppressHydrationWarning`.

Design tokens are CSS custom properties (`:root` / `.dark`) in `globals.css`. Tailwind is configured with `darkMode: 'class'`.

### Styling

Tailwind CSS 3 with `@tailwindcss/typography` plugin. Design tokens are CSS custom properties (`--bg`, `--text-primary`, `--text-secondary`, `--text-muted`, `--border`, `--code-bg`, `--accent`) with light/dark variants in `globals.css`. Fonts: Inter (sans) and JetBrains Mono (mono), loaded via Google Fonts. Prose styles defined in `globals.css` `@layer components`.

### Path Aliases

`@/*` maps to `./src/*` (configured in `tsconfig.json`).

### SEO

- Structured data (JSON-LD) via `src/lib/structured-data.ts`
- RSS feed at `/feed.xml` (route handler)
- Sitemap and robots.txt generated by Next.js (`src/app/sitemap.ts`, `src/app/robots.ts`)
- OpenGraph image generation (`src/app/opengraph-image.tsx`)
